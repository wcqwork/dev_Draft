<script>
    /**
    * @params $selector Jquery对象
    * @params Array  { tag: 'img', attrs:['src', 'data-origin'] }
    */
    // 
    function replaceAttr($selector, tags = []) {
        if (!tags.length) return
        try {
            tags.forEach(function (item) {
                $selector.find(item.tag).each(function () {
                    var _this = $(this)
                    item.attrs.forEach(function (attr) {
                        var smallimage = _this.attr(attr);
                        if (smallimage && smallimage.length) {
                            smallimage = smallimage.replace(/\-[0-9]+\-[0-9]+/g, '');
                            _this.attr(attr, smallimage);
                        }
                    })
                })
            })
        } catch (e) {
            console.log(e)
        }
    }
    // 例子
    var replaceTags = [{
        tag: 'img',
        attrs: ['src','data-src']
    }, {
        tag: 'source',
        attrs: ['srcset']
    }]
    console.log('.sitewidget-advancedSlider','======================')
    replaceAttr($('.sitewidget-advancedSlider'), replaceTags)
    $(window).scroll(function () {
        replaceAttr($('.sitewidget-advancedSlider'), replaceTags);
        });
    onloadHack(function () {
        replaceAttr($('.sitewidget-advancedSlider'), replaceTags);
    })
</script>