var isExistBaseLoadTemplate=!1,baseLoaded=!1;let isReload=!1,alljsArray=[],allImgArray=[],allcssArray=[],baseDependsArray=[],priorityJsDependsArray=[],delayJsDependsArray=[],prioritycssDependsArray=[],delaycssDependsArray=[],innerViewSettingIds=[],mobileInnerViewSettingIds=[],outterViewSettingIds=[],mobileOutterViewSettingIds=[],isAlreadyDependArray=[],loadingImgDomSuccessArray=[],isSupportPreloadFlag=!1;const protocol=window.location.protocol;let isJsworker=!1,loadImgType="0";var isOpenFlagUA=!1;try{var jsonObj=JSON.parse(window.__ph_optSet__);loadImgType=jsonObj.loadImgType,isOpenFlagUA=jsonObj.isOpenFlagUA}catch(e){loadImgType="0",isOpenFlagUA=!1}var ua=navigator.userAgent||"";function isSupportPreload(){const e=document.createElement("link").relList;isSupportPreloadFlag=!(!e||!e.supports)}function isHasBaseTemplate(){isExistBaseLoadTemplate=document.querySelectorAll("template[data-type='base_template']").length>0}async function loadbaseFunc(){if(isExistBaseLoadTemplate){var e=document.querySelector("script[data-src*='jquery-1.11.0.concat.js']");if(e){var t={type:"script"};t.url=e.getAttribute("data-src"),await loadDependFunc(t),loadBaseTemplate()}}}function imgIsLoaded(e,t){var a;a=setTimeout(function(){e.src=t,e.classList.remove("img-default-bgc")},8e3);var r=new Image;r.src=t,r.onload=function(){a&&clearTimeout(a),e.src=t,e.classList.remove("img-default-bgc")},r.onerror=function(){a&&clearTimeout(a),t&&(e.src=t),e.classList.remove("img-default-bgc")}}function preloadDepend(e){if(e.url){if(!isSupportPreloadFlag||isJsworker||e.unOnload)e.dom&&""!=e.dom&&"image"==e.type&&("0"!=loadImgType&&"2"!=loadImgType||isReload&&(e.dom.src=e.url,e.dom.classList.remove("img-default-bgc")),"1"==loadImgType&&(e.dom.src=e.url,e.dom.classList.remove("img-default-bgc")),loadingImgDomSuccessArray.push(e));else{if("image"==e.type){var t=new Image;t.src=e.url,t.complete?e.dom&&""!=e.dom&&(e.dom.src=e.url,e.dom.classList.remove("img-default-bgc")):a()}else a();function a(){var t=document.createElement("link");t.rel="preload",t.setAttribute("as",e.type),t.href=e.url,document.head.appendChild(t),t.onload=function(){e.dom&&""!=e.dom&&("0"!=loadImgType&&"2"!=loadImgType||isReload&&imgIsLoaded(e.dom,e.url),"1"==loadImgType&&imgIsLoaded(e.dom,e.url),loadingImgDomSuccessArray.push(e))}}}if(isJsworker)if("image"==e.type){var r=document.createElement("link");r.rel="preload",r.setAttribute("as",e.type),r.href=e.url,document.head.appendChild(r)}else preloadWorker.postMessage({type:e.type,url:e.url})}}if(isOpenFlagUA&&(loadImgType=-1!=ua.indexOf("Lighthouse")||-1!=ua.indexOf("lighthouse")||-1!=ua.indexOf("GTmetrix")||-1!=ua.indexOf("gtmetrix")?"0":"0"==loadImgType||"1"==loadImgType?"1":"2"),isSupportPreload(),isHasBaseTemplate(),loadbaseFunc(),isJsworker)var preloadWorker=new Worker(URL.createObjectURL(new Blob([document.getElementById("loadFunc").textContent],{type:"text/javascript"})));function loadDependFunc(e){return new Promise((t,a)=>{if("script"==e.type){var r=document.createElement("script");r.type="text/javascript",r.src=e.url,document.body.appendChild(r),r.onload=function(){t("success")},r.onerror=function(){t("error")}}if("style"==e.type){var l=document.createElement("link");l.rel="stylesheet",l.href=e.url,document.getElementById("appdStylePlace").insertAdjacentHTML("beforebegin",l.outerHTML),t("success")}})}function isInnerView(e){const t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return e.offsetTop-document.documentElement.scrollTop<=t}function getInnerViewSettingIds(){Array.from(document.querySelectorAll("div[data-settingid],div[settingid]")).forEach(e=>{var t=e.getAttribute("data-settingid")?e.getAttribute("data-settingid"):e.getAttribute("settingid")?e.getAttribute("settingid"):e.getAttribute("mobile_settingid");isInnerView(e)?innerViewSettingIds.push(t):outterViewSettingIds.push(t)})}function getMobileInnerViewSettingIds(){Array.from(document.querySelectorAll("div[mobile_settingid]")).forEach(e=>{var t=e.getAttribute("data-settingid")?e.getAttribute("data-settingid"):e.getAttribute("settingid")?e.getAttribute("settingid"):e.getAttribute("mobile_settingid");isInnerView(e)?mobileInnerViewSettingIds.push(t):mobileOutterViewSettingIds.push(t)})}function getRealUrl(e){if(e&&""!=e)try{var t=checkBaseURL(e);return t.href.replace(t.protocol+"//"+t.host,"")}catch(t){console.log(t,e)}}function checkBaseURL(e){if(e&&""!=e){var t=document.createElement("div"),a=e.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;");t.innerHTML='<a href="'+a+'">x</a>';var r=t.firstChild;return{href:r.href,href:r.href,hostname:r.hostname,host:r.host,protocol:r.protocol}}}function mobileAnalyzeDepends(e,t){e.forEach(e=>{var a=document.querySelectorAll("script[data-id='mobile_"+e+"']");(a||a.length)&&Array.from(a).forEach(function(e){var a=e.getAttribute("data-jsdepand"),r=e.getAttribute("data-cssdepand"),l=e.innerHTML,i=[];if(a&&""!=a){var o=(a=a.replace(/\"|\[|]/g,"")).split(",");o.forEach((e,t)=>{var a={},r=e,n=getRealUrl(r);a.type="script",a.url=protocol+r,a.callBackFn=l,-1==alljsArray.indexOf(n)&&(i.push({url:a.url}),alljsArray.push(n),preloadDepend(a)),t==o.length-1&&i.push({callBackFn:l})}),i.length>0&&(t?priorityJsDependsArray.push(i):delayJsDependsArray.push(i))}else i.push({callBackFn:l}),i.length>0&&(t?priorityJsDependsArray.push(i):delayJsDependsArray.push(i));r&&""!=r&&(r=r.replace(/\"|\[|]/g,"")).split(",").forEach(e=>{var a={type:"style"},r=e,l=getRealUrl(r);-1==allcssArray.indexOf(l)&&(a.url=protocol+r,allcssArray.push(l),preloadDepend(a),t?prioritycssDependsArray.push(r):delaycssDependsArray.push(r))})})})}function analyzeDepends(e,t){e.forEach(e=>{var a=document.querySelectorAll("script[data-id='"+e+"']");(a||a.length)&&Array.from(a).forEach(function(e){var a=e.getAttribute("data-jsdepand"),r=e.getAttribute("data-cssdepand"),l=e.innerHTML,i=[];if(a&&""!=a){var o=(a=a.replace(/\"|\[|]/g,"")).split(",");o.forEach((e,t)=>{var a={},r=e,n=getRealUrl(r);a.type="script",a.url=protocol+r,a.callBackFn=l,-1==alljsArray.indexOf(n)&&(i.push({url:a.url}),alljsArray.push(n),preloadDepend(a)),t==o.length-1&&i.push({callBackFn:l})}),i.length>0&&(t?priorityJsDependsArray.push(i):delayJsDependsArray.push(i))}else i.push({callBackFn:l}),i.length>0&&(t?priorityJsDependsArray.push(i):delayJsDependsArray.push(i));r&&""!=r&&(r=r.replace(/\"|\[|]/g,"")).split(",").forEach(e=>{var a={type:"style"},r=e,l=getRealUrl(r);-1==allcssArray.indexOf(l)&&(a.url=protocol+r,allcssArray.push(l),preloadDepend(a),t?prioritycssDependsArray.push(r):delaycssDependsArray.push(r))})})})}function getAllDepends(){Array.from(document.querySelectorAll("script:not([type='text/x-delay-script']):not([async])")).forEach(e=>{if(e.getAttribute("data-src")){var t=e.getAttribute("data-src");if(-1!=alljsArray.indexOf(t))return;alljsArray.push(t),t.indexOf("jquery-1.11.0.concat"),baseDependsArray.push(t);var a={type:"script"};a.url=protocol+t,preloadDepend(a)}}),Array.from(document.querySelectorAll("link[type='text/css']")).forEach(e=>{if(e.getAttribute("data-href")){var t=e.getAttribute("data-href");if(-1!=allcssArray.indexOf(t))return;allcssArray.push(t),prioritycssDependsArray.push(t);var a={type:"style"};a.url=protocol+t,preloadDepend(a)}}),analyzeDepends(innerViewSettingIds,!0),mobileAnalyzeDepends(mobileInnerViewSettingIds,!0),analyzeDepends(outterViewSettingIds,!1),mobileAnalyzeDepends(mobileOutterViewSettingIds,!1)}function includes(e,t){return t.every(t=>e.includes(t))}async function loadDepends(array,type,callback){if(array.length&&array.length>0)for(var i=0;i<array.length;i++){var option={type:type};if("string"==typeof array[i])option.url=array[i],await loadDependFunc(option);else if(array[i]instanceof Array)for(var callBackFn="",j=0;j<array[i].length;j++)if(array[i][j].url&&(option.url=array[i][j].url,await loadDependFunc(option)),array[i][j].callBackFn){callBackFn=array[i][j].callBackFn;try{eval(callBackFn)}catch(e){console.log(e);continue}}if(i==array.length-1&&callback)try{callback()}catch(e){console.log(e)}}else if(callback)try{callback()}catch(e){console.log(e)}}function loadprioritycss(e){loadDepends(prioritycssDependsArray,"style",e)}function loadBasejs(e){loadDepends(baseDependsArray,"script",function(){baseLoaded=!0,e&&setTimeout(function(){e()},10)})}function loadpriorityjs(e){loadDepends(priorityJsDependsArray,"script",e)}function deleteFoldHeight(){Array.from(document.querySelectorAll("style[data-type='aboveTheFoldHeight'],style[data-type='unAboveTheFoldHeight']")).forEach(e=>{e.remove()})}function deleteStyleInline(){function e(){Array.from(document.querySelectorAll("style#speed3DefaultStyle,style[data-type='inlineHeadStyle']")).forEach(e=>{e.remove()})}if(window.baseCss)e();else var t=0,a=setInterval(function(){t++,(window.baseCss||t>15)&&(clearInterval(a),e())},500)}function loaddelaycss(){loadComponentUnTemplate(),deleteFoldHeight(),loadDepends(delaycssDependsArray,"style")}function loaddelayjsFunc(e){delayJsDependsArray&&delayJsDependsArray.length>0?loadDepends(delayJsDependsArray,"script",e):e()}function proloadInnerViewImg(){innerViewSettingIds.forEach(e=>{Array.from(document.querySelectorAll("div[data-settingid='"+e+"'] img,div[settingid='"+e+"'] img")).forEach(e=>{var t={type:"image"};if(e.getAttribute("src")&&""!=e.getAttribute("src")&&(t.url=e.getAttribute("src")),e.getAttribute("phoenix-lazyload")&&""!=e.getAttribute("phoenix-lazyload")&&(t.url=e.getAttribute("phoenix-lazyload")),e.getAttribute("data-src")&&""!=e.getAttribute("data-src")&&(t.url=e.getAttribute("data-src")),e.getAttribute("data-original")&&""!=e.getAttribute("data-original")&&(t.url=e.getAttribute("data-original")),t.dom=e,t.url!=window.location.href){var a=getRealUrl(t.url);-1==allImgArray.indexOf(a)?(allImgArray.push(a),preloadDepend(t)):(t.unOnload=!0,preloadDepend(t))}})})}function proloadOutterViewImg(){outterViewSettingIds.forEach(e=>{Array.from(document.querySelectorAll("div[data-settingid='"+e+"'] img,div[settingid='"+e+"'] img")).forEach(e=>{var t={type:"image"};if(e.getAttribute("src")&&""!=e.getAttribute("src")&&(t.url=e.getAttribute("src")),e.getAttribute("phoenix-lazyload")&&""!=e.getAttribute("phoenix-lazyload")&&(t.url=e.getAttribute("phoenix-lazyload")),e.getAttribute("data-src")&&""!=e.getAttribute("data-src")&&(t.url=e.getAttribute("data-src")),e.getAttribute("data-original")&&""!=e.getAttribute("data-original")&&(t.url=e.getAttribute("data-original")),t.dom=e,t.url!=window.location.href){var a=getRealUrl(t.url);-1==allImgArray.indexOf(a)?(allImgArray.push(a),preloadDepend(t)):(t.unOnload=!0,preloadDepend(t))}})})}function loadTemplate(e){Array.from(document.querySelectorAll("template[data-type='"+e+"']")).forEach(e=>{var t=!1,a=null;e.getAttribute("data-lazyload-alias")&&"video"==e.getAttribute("data-lazyload-alias")&&(t=!0,a=e.getAttribute("data-settingId"));var r=e.innerHTML;try{if($(e).replaceWith(r),-1!=r.indexOf("code_template"))return loadTemplate("code_template"),!1;if(-1!=r.indexOf("js_template"))return loadTemplate("js_template"),!1}catch(e){return console.log(e),!0}if(t){var l=document.querySelector("script[data-id='"+a+"']");if(!l)return;var i=l.getAttribute("data-jsdepand"),o=l.getAttribute("data-cssdepand"),n=l.innerHTML,s=[[]];if(i&&""!=i){var d=(i=i.replace(/\"|\[|]/g,"")).split(",");d.forEach((e,t)=>{var a={},r=e,l=getRealUrl(r);a.type="script",a.url=protocol+r,a.callBackFn=n,s[0].push({url:a.url}),alljsArray.push(l),preloadDepend(a),t==d.length-1&&s[0].push({callBackFn:n})}),loadDepends(s,"script")}else s.push({callBackFn:n}),loadDepends(s,"script");if(o&&""!=o)(o=o.replace(/\"|\[|]/g,"")).split(",").forEach(e=>{var t={type:"style"},a=e,r=getRealUrl(a);if(-1==allcssArray.indexOf(r)){t.url=protocol+a,allcssArray.push(r);var l=document.createElement("link");l.rel="stylesheet",l.href=t.url,document.getElementById("appdStylePlace").insertAdjacentHTML("beforebegin",l.outerHTML)}})}})}function loadCodeTemplate(){deleteStyleInline(),loadTemplate("code_template")}function loadJsTemplate(){loadTemplate("js_template")}function loadBaseTemplate(){loadTemplate("base_template")}function loadComponentUnTemplate(){loadTemplate("component_unUseTemplate")}function loadDelayDepends(){baseLoaded?(loadprioritycss(loaddelaycss),loadpriorityjs(loadJsTemplate),setTimeout(()=>{loaddelayjsFunc(loadCodeTemplate)},1e3)):(setTimeout(()=>{loadprioritycss(loaddelaycss),loadpriorityjs(loadJsTemplate)},5e3),setTimeout(()=>{loaddelayjsFunc(loadCodeTemplate)},7e3))}function ansyFunc(){isReload||(isReload=!0,clearTimeout(loadTimer),loadBasejs(ansyFunc2),loadInlineStyleDelay(),loadSuccessImg())}function loadInlineStyleDelay(){Array.from(document.querySelectorAll("template[data-type='inlineStyleDelay']")).forEach(e=>{var t=e.innerHTML;e.outerHTML=t})}function loadSuccessImg(){setTimeout(()=>{loadingImgDomSuccessArray.forEach(e=>{const t=e;e.dom.src=t.url,e.dom.classList.remove("img-default-bgc")})},100)}function loadTemplateImg(e){Array.from(document.querySelectorAll("."+e+" img")).forEach(e=>{var t="";e.getAttribute("src")&&""!=e.getAttribute("src")&&(t=e.getAttribute("src")),e.getAttribute("phoenix-lazyload")&&""!=e.getAttribute("phoenix-lazyload")&&(t=e.getAttribute("phoenix-lazyload")),e.getAttribute("data-src")&&""!=e.getAttribute("data-src")&&(t=e.getAttribute("data-src")),e.getAttribute("data-original")&&""!=e.getAttribute("data-original")&&(t=e.getAttribute("data-original")),t!=window.location.href&&imgIsLoaded(e,t)})}function loadTemplateImgBySettingId(e){Array.from(document.querySelectorAll("div[data-settingid="+e+"] img,div[settingid="+e+"] img")).forEach(e=>{var t="";e.getAttribute("src")&&""!=e.getAttribute("src")&&(t=e.getAttribute("src")),e.getAttribute("phoenix-lazyload")&&""!=e.getAttribute("phoenix-lazyload")&&(t=e.getAttribute("phoenix-lazyload")),e.getAttribute("data-src")&&""!=e.getAttribute("data-src")&&(t=e.getAttribute("data-src")),e.getAttribute("data-original")&&""!=e.getAttribute("data-original")&&(t=e.getAttribute("data-original")),t!=window.location.href&&imgIsLoaded(e,t)})}function ansyFunc2(){proloadOutterViewImg(),loadDelayDepends()}getInnerViewSettingIds(),getMobileInnerViewSettingIds(),getAllDepends(),proloadInnerViewImg();var isMobile=datalazyloadDefaultOptions.isMobileViewer;if(isMobile&&"true"==isMobile)var loadTimer=setTimeout(()=>{ansyFunc()},5e3);else var loadTimer=setTimeout(()=>{ansyFunc()},8e3);window.addEventListener("mousemove",ansyFunc),window.addEventListener("keydown",ansyFunc),window.addEventListener("touchmove",ansyFunc),window.addEventListener("touchend",ansyFunc),window.addEventListener("scroll",function(){isReload||document.documentElement.scrollTop>.5*document.documentElement.clientHeight&&ansyFunc()}),window.onload=function(){isReload||document.documentElement.scrollTop>.5*document.documentElement.clientHeight&&ansyFunc()},"2"==loadImgType&&setTimeout(function(){var e=new Event("mousemove"),t=new Event("touchmove");window.dispatchEvent(e),window.dispatchEvent(t)},500);